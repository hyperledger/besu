package org.hyperledger.besu.ethereum.core;

import org.apache.tuweni.bytes.Bytes;
import org.hyperledger.besu.ethereum.vm.Code;
import org.junit.Test;

import java.util.ArrayList;
import java.util.Optional;

import static org.assertj.core.api.Assertions.assertThat;

public class CodeCacheTest {
    private final String manyJumps =
            "0x6003565b0063606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f806003565b00606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f80";
    final BlockDataGenerator gen = new BlockDataGenerator();

    @Test
    public void overflowCacheAndEvictLRU() {

        //put a contract in expecting it to be the LRU
        final UpdateTrackingAccount<EvmAccount> lruContract = new UpdateTrackingAccount<>(gen.address());
        lruContract.setCode(Bytes.fromHexString(manyJumps));
        //13833 bytes in manyJumps
        final CodeCache cache = new CodeCache(3*13833L, new CodeLoader());
        Optional<Code> lookedUp = cache.getContract(lruContract);
        assertThat(lookedUp).isNotEmpty();
        assertThat(cache.getIfPresent(lruContract)).isNotNull();

        //do that again with N-1 more contracts, same sender is fine.

    }

}
